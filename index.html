<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Live Stream</title>

  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      width: 100%;
      height: 100%;
      background: #000;
      overflow: hidden;
    }

    /* Always fullscreen */
    .player {
      position: fixed;
      inset: 0;
      background: #000;
    }

    .player iframe {
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
    }

    /* Simple loading overlay */
    .loading {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #aaa;
      font-size: 14px;
      background: #000;
      z-index: 2;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div class="player">
  <div id="tap" class="tap-overlay">
    Tap to Play
  </div>

  <iframe
    id="stream"
    src="https://pl.kooralive.fit/albaplayer/ch1/?serv=3"
    allow="autoplay; fullscreen; encrypted-media"
    allowfullscreen
    playsinline>
  </iframe>
</div>


  <script>
    const iframe = document.getElementById('stream');
    const loading = document.getElementById('loading');

    iframe.addEventListener('load', () => {
      loading.classList.add('hidden');
    });
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW Registered!', reg.scope))
                    .catch(err => console.log('SW Failed:', err));
            });
        }
</script>


</body>
</html>
